(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{42:function(t,e,n){t.exports=n(79)},79:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(34),o=n.n(c),i=n(3),u=n(5),l=n(6);function s(){var t=Object(u.a)(["\n  padding: 10px 20px 16px;\n  box-shadow: 0 2px 2px 0 rgba(24, 52, 117, 0.2);\n  margin-bottom: 4px;\n"]);return s=function(){return t},t}var m=l.a.nav(s()),h=function(){return r.a.createElement(m,null,r.a.createElement(i.c,{activeStyle:{color:"fuchsia",textDecoration:"none",fontWeight:"500"},style:{marginRight:"16px",color:"inherit",textDecoration:"none",fontWeight:"500"},to:"/",exact:!0},"Home"),r.a.createElement(i.c,{activeStyle:{color:"fuchsia",textDecoration:"none",fontWeight:"500"},style:{color:"inherit",textDecoration:"none",fontWeight:"500"},to:"/movies"},"Movie"))},p=n(9),d=n(12),f=n(13),v=n(15),E=n(14),g=n(16),b=n(17),y=n.n(b),x="8498946f9c7874ef33ac19a931c494c9",w=function(){var t="https://api.themoviedb.org/3/trending/all/day?api_key=".concat(x);return y.a.get(t).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))},O=function(t){var e="https://api.themoviedb.org/3/search/movie?api_key=".concat(x,"&language=en-US&query=").concat(t,"&page=1&include_adult=false");return y.a.get(e).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))},j=function(t){function e(){var t,n;Object(d.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(v.a)(this,(t=Object(E.a)(e)).call.apply(t,[this].concat(r)))).state={trending:[]},n.componentDidMount=function(){w().then((function(t){var e=t.data;return n.setState({trending:e.results})}))},n}return Object(g.a)(e,t),Object(f.a)(e,[{key:"render",value:function(){var t=this,e=this.state.trending;return r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,"Trending today"),r.a.createElement("ul",null,e.map((function(e){return"movie"===e.media_type?r.a.createElement("li",{key:e.id},r.a.createElement(i.b,{to:{pathname:"/movies/".concat(e.id),state:{from:t.props.location}}},e.title)):null}))))}}]),e}(a.Component),k=function(t,e){var n=e.fetchData;return function(e){function a(){var t,e;Object(d.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(e=Object(v.a)(this,(t=Object(E.a)(a)).call.apply(t,[this].concat(c)))).state={data:null},e.componentDidMount=function(){var t=e.props.match.params.movieId;n(t).then((function(t){var n=t.data;return e.setState({data:n})}))},e}return Object(g.a)(a,e),Object(f.a)(a,[{key:"render",value:function(){var e=this.state.data;return r.a.createElement(t,Object.assign({data:e},this.props))}}]),a}(a.Component)};function S(){var t=Object(u.a)(["\n  width: 100px;\n"]);return S=function(){return t},t}function D(){var t=Object(u.a)(["\n  list-style: none;\n"]);return D=function(){return t},t}var _=l.a.ul(D()),C=l.a.img(S()),q=k((function(t){var e=t.data;return e?e.cast.map((function(t){return r.a.createElement(_,{key:t.cast_id},r.a.createElement("li",null,r.a.createElement(C,{src:"https://image.tmdb.org/t/p/w500"+t.profile_path,alt:t.name})),r.a.createElement("li",null,t.name),r.a.createElement("li",null,"Character: ",t.character))})):null}),{fetchData:function(t){var e="https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(x);return y.a.get(e).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))}}),T=k((function(t){var e=t.data;return e?r.a.createElement("ul",null,e.results.length>0?e.results.map((function(t){return r.a.createElement("li",{key:t.id},r.a.createElement("b",null,"Author: ",t.author),r.a.createElement("p",null,t.content))})):r.a.createElement("span",null,"We don't have any reviews for this movie")):null}),{fetchData:function(t){var e="https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(x,"&language=en-US&page=1");return y.a.get(e).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))}}),A=function(t){var e=t.location.state;return e?t.history.push(e.from):t.history.push({pathname:"/"})};function I(){var t=Object(u.a)(["\n  border-top: 2px solid #d3d3d3;\n  border-bottom: 2px solid #d3d3d3;\n"]);return I=function(){return t},t}function W(){var t=Object(u.a)(["\n  border: none;\n  background-color: #fff;\n  border-radius: 4px;\n  border: 1px solid #d3d3d3;\n"]);return W=function(){return t},t}function F(){var t=Object(u.a)(["\n  width: 200px;\n  margin-right: 30px;\n"]);return F=function(){return t},t}function M(){var t=Object(u.a)(["\n  display: flex;\n  padding-bottom: 6px;\n"]);return M=function(){return t},t}var U=l.a.div(M()),G=l.a.img(F()),J=l.a.button(W()),R=l.a.div(I()),B=k((function(t){var e=t.data;if(e){var n=t.match.url,c=e.title,o=e.poster_path,u=e.vote_average,l=e.overview,s=e.genres,m=e.release_date.slice(0,4);return r.a.createElement(a.Fragment,null,r.a.createElement(J,{type:"button",onClick:function(){return A(t)}},"Go back"),r.a.createElement(U,null,r.a.createElement(G,{src:"https://image.tmdb.org/t/p/w500"+o,alt:c}),r.a.createElement("div",null,r.a.createElement("h1",null,c," (",m,")"),r.a.createElement("span",null,"User Score ",10*u,"%"),r.a.createElement("h2",null,"Overview"),r.a.createElement("p",null,l),r.a.createElement("h2",null,"Genres"),s&&s.map((function(t){return r.a.createElement("span",{key:t.id},t.name," ")})))),r.a.createElement(R,null,r.a.createElement("h3",null,"Additional information"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"".concat(n,"/cast")},"Cast")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"".concat(n,"/reviews")},"Reviews")))),r.a.createElement("div",null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/movies/:movieId/cast",render:function(t){return r.a.createElement(q,t)}}),r.a.createElement(p.a,{path:"/movies/:movieId/reviews",render:function(t){return r.a.createElement(T,t)}}))))}return null}),{fetchData:function(t){var e="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(x,"&language=en-US");return y.a.get(e).then((function(t){if(200===t.status)return t;throw Error("".concat(t.status," ").concat(t.statusText))}))}}),H=n(39),z=n.n(H);function K(){var t=Object(u.a)(["\n  width: 300px;\n  border: 2px solid #d3d3d3;\n"]);return K=function(){return t},t}var L=l.a.input(K()),N=function(t){function e(){var t,n;Object(d.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(v.a)(this,(t=Object(E.a)(e)).call.apply(t,[this].concat(r)))).state={movies:[],query:""},n.componentDidMount=function(){var t=z.a.parse(n.props.location.search).query;t&&O(t).then((function(t){var e=t.data;n.setState({movies:e.results})}))},n.handleChange=function(t){var e=t.target.value;n.setState({query:e})},n.handleSubmit=function(t){t.preventDefault();var e=n.state.query,a=n.props.history;O(e).then((function(t){var e=t.data;n.setState({movies:e.results,query:""})})).then(a.push({pathname:n.props.location.pathname,search:"query=".concat(e)}))},n}return Object(g.a)(e,t),Object(f.a)(e,[{key:"render",value:function(){var t=this,e=this.state.movies;return r.a.createElement(a.Fragment,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(L,{type:"text",onChange:this.handleChange}),r.a.createElement("button",{type:"submit"},"Search")),r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(i.b,{to:{pathname:"/movies/".concat(e.id),state:{from:t.props.location}}},e.title))}))))}}]),e}(a.Component),P=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(p.a,{exact:!0,path:"/",component:j}),r.a.createElement(p.a,{strict:!0,path:"/movies/:movieId",render:function(t){return r.a.createElement(B,t)}}),r.a.createElement(p.a,{exact:!0,path:"/movies",component:N}))};o.a.render(r.a.createElement(i.a,null,r.a.createElement(h,null),r.a.createElement(P,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.6cee4686.chunk.js.map